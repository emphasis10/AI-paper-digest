# HtmlRAG: HTML is Better Than Plain Text for Modeling Retrieved Knowledge in RAG Systems
## TL;DR
## Summary
- [https://arxiv.org/pdf/2411.02959.pdf](https://arxiv.org/pdf/2411.02959.pdf)

### **1. 논문의 주요 내용 요약 (섹션별)**

#### **1.1 서론**
- **배경**: LLM(Large Language Model) 기반 RAG(Retrieval-Augmented Generation) 시스템은 외부 지식을 활용하여 환각(hallucination) 문제를 완화하고 성능을 향상시키는 데 유용합니다. 일반적으로 웹에서 HTML 문서를 검색한 뒤 이를 텍스트로 변환해 모델에 전달합니다. 그러나 변환 과정에서 HTML의 구조적, 의미적 정보가 손실됩니다.
- **문제 제기**: HTML의 구조적 정보(예: 표, 제목 태그 등)를 유지하지 못하면 모델의 성능이 저하될 수 있습니다.
- **연구 목표**: HTML을 그대로 활용해 RAG 시스템의 지식 표현을 개선하고 정보 손실을 줄이는 "HtmlRAG" 접근법을 제안합니다.

---

#### **1.2 방법론**
- **HTML 활용**: HTML을 텍스트로 변환하는 대신 HTML 자체를 지식 형식으로 사용.
- **HTML 전처리**: HTML에서 CSS, JavaScript, 불필요한 주석 등을 제거해 길이를 단축하는 "HTML 클리닝" 모듈 설계.
- **HTML 가지치기**:
  - **단계 1**: 임베딩 기반 가지치기(HTML 블록의 중요도를 텍스트 임베딩을 통해 평가 후 불필요한 블록 삭제).
  - **단계 2**: 생성 모델을 활용한 미세 가지치기(더 세분화된 블록 평가 및 삭제).

---

#### **1.3 실험 및 결과**
- **데이터셋**: ASQA, HotpotQA, TriviaQA 등 6개의 QA 데이터셋에서 평가.
- **결과**:
  - HTML 활용은 기존 텍스트 기반 접근법보다 더 높은 정확도를 보였습니다.
  - HtmlRAG는 특히 복잡한 HTML 구조를 이해하고 활용하는 데 유리함이 입증되었습니다.
  - 가지치기를 통해 HTML의 길이를 최대 94%까지 줄이면서도 성능을 유지하거나 개선.

---

#### **1.4 논문의 기여**
1. **HTML을 지식 형식으로 사용하는 접근법 제안**: 기존 텍스트 변환 방식의 한계를 극복.
2. **효율적인 HTML 전처리 및 압축 알고리즘 개발**.
3. **RAG 시스템에서 HTML을 처리하는 새로운 가능성 열기**.

---

### **2. 논문의 전체 요약**
이 논문은 기존 RAG 시스템에서 HTML을 단순 텍스트로 변환하는 방식이 정보 손실을 초래한다는 점을 지적하며, HTML의 구조적, 의미적 정보를 보존하는 새로운 방식(HtmlRAG)을 제안합니다. HtmlRAG는 HTML 전처리 및 가지치기 알고리즘을 도입하여 효율성과 정보 보존 간의 균형을 맞추며, QA 데이터셋 실험에서 우수한 성능을 입증했습니다.

---

### **3. 논문의 주요 목적 및 기여 (자세히 설명)**
#### **주요 목적**
HtmlRAG의 핵심 목표는 HTML의 풍부한 의미적, 구조적 정보를 손실 없이 활용하여 RAG 시스템의 성능을 향상하는 것입니다. 이는 LLM이 HTML 문서를 처리하는 데 필요한 입력 토큰 수를 줄이는 동시에 중요한 정보를 유지하는 방법을 제시함으로써 가능해졌습니다.

#### **기술적 기여**
1. **HTML 클리닝 모듈**:
   - CSS, JavaScript, 주석 제거.
   - 중복되거나 의미 없는 HTML 태그를 병합.
   - 불필요한 빈 태그 삭제.

2. **HTML 가지치기 알고리즘**:
   - **블록 트리 구성**: HTML 문서를 구조적 단위로 나누어 트리 형태로 변환.
   - **임베딩 기반 가지치기**: 텍스트 임베딩을 활용해 사용자 쿼리와 관련 없는 블록 제거.
   - **생성 모델 기반 가지치기**: 전체 트리의 맥락을 고려해 중요도를 다시 평가하고 최종적으로 최적화.

3. **효율적인 실험 설정**:
   - 다양한 QA 데이터셋을 통해 성능 검증.
   - HTML 길이를 대폭 줄이면서도 높은 성능 유지.

HtmlRAG는 현재의 RAG 시스템이 가지고 있는 한계를 극복하고, HTML을 효과적으로 처리하는 새로운 가능성을 제시합니다. 
